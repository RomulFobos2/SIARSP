<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:fragment="header">
    <!-- Top Bar (—Ç–µ–º–Ω–∞—è –ø–æ–ª–æ—Å–∞ —Å–≤–µ—Ä—Ö—É) -->
    <div class="bg-dark text-white py-2">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center small">
                <div>
                    <span sec:authorize="isAuthenticated()">
                        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span sec:authentication="principal.fullName" class="fw-semibold"></span>
                    </span>
                    <span sec:authorize="!isAuthenticated()">
                        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –°–ò–ê–†–°–ü
                    </span>
                </div>
                <div>
                    <span class="me-3">üìû +7 (XXX) XXX-XX-XX</span>
                    <span>‚úâ info@siarsp.ru</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm">
        <div class="container py-2">
            <!-- Logo/Brand -->
            <a class="navbar-brand fw-bold fs-4" href="/"
               th:onclick="${#authorization.expression('isAuthenticated()')} ?
                          (${#authorization.expression('hasRole(''ROLE_VISITOR'')')} ?
                          'window.location.href=\'/visitor/profile\'' :
                          'window.location.href=\'/employee/profile\'') :
                          'window.location.href=\'/\''"
               style="cursor: pointer; letter-spacing: 1px;">
                –°–ò–ê–†–°–ü
            </a>

            <!-- Mobile Toggle -->
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav" aria-controls="navbarNav"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navigation -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-lg-center">
                    <!-- Admin Link -->
                    <li class="nav-item" sec:authorize="hasRole('ROLE_EMPLOYEE_ADMIN')">
                        <a class="nav-link px-3" href="/employee/admin/administrationPanel">
                            –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
                        </a>
                    </li>

                    <!-- Guest Links -->
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link px-3" href="/visitor/login">–í—Ö–æ–¥</a>
                    </li>
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link px-3" href="/employee/login">–í—Ö–æ–¥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</a>
                    </li>
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="btn btn-dark rounded-pill px-4 ms-lg-2 mt-2 mt-lg-0"
                           href="/visitor/registration">
                            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                        </a>
                    </li>

                    <!-- Logout -->
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <form th:action="@{/logout}" method="post" class="d-inline">
                            <button type="submit" class="btn btn-outline-dark rounded-pill px-4 ms-lg-2 mt-2 mt-lg-0">
                                –í—ã—Ö–æ–¥
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
</html>